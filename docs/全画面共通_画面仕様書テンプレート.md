---
title: 全画面共通 画面仕様書テンプレート
---

# **画面仕様書テンプレート（全画面共通）**

> このテンプレートは、プロジェクト内の全ての画面（PWA/SPA含む）に共通して使う仕様書の雛形です。
>
> - 使い方: このファイルをコピーして画面固有の情報で埋めてください。
> - 命名: `画面ID_画面名.md` の形式で `documents/<カテゴリ>/` に配置してください。

---

**基本情報**

- **画面ID**: 
- **画面名**: 
- **目的（概要）**: 画面の目的を1〜2行で記載
- **主なユーザー**: 例: 担当職員 / 担当税理士 / 管理者
- **優先度**: 高/中/低
- **ステータス**: 要件定義/設計中/実装中/レビュー待ち/完了
- **関連画面**: 例: `/dashboard`, `/clients/:id` など

---

**1. 想定ユースケース（短い箇条書き）**

- ユーザーが画面に遷移するシナリオ（例: 顧問先選択 → 編集 → 保存）
- エッジケース（例: データ未存在 / ネットワークエラー / 権限不足）

---

**2. 画面構成（ワイヤー/要素）**

各ブロックを上から順に記載。可能な場合は簡易ワイヤーを添付またはリンク。

- **ヘッダー / ナビゲーション**: 例: ロゴ・通知・ユーザーメニュー
- **メイン領域**:
  - 左カラム: （用途）
  - 右カラム: （用途）
  - フォーム/フィルタ/テーブル/チャート等の主要要素
- **入力要素**: 使用するコンポーネント（`TextInput`, `Textarea`, `Select`, `DatePicker`, `FileUpload` など）
- **ボタン/アクション**: 主要なアクション（保存・キャンセル・プレビュー等）
- **モーダル/ダイアログ**: 表示条件と内容の一覧

---

**3. 詳細仕様（要素ごと）**

各UI要素について、責務・入力形式・検証・初期値・制約を明記。

- **フィールド名**: ラベル / 型 / 必須 / 例 / バリデーション
  - 例: **顧問先名**: `TextInput` / 必須 / 文字列 / 例: "株式会社A"
- **テーブル**: カラム定義、ソート/ページング/行選択の挙動
- **ファイルアップロード**: 最大サイズ、許可拡張子、複数可/不可
- **アクセシビリティ**: キーボード操作、ラベル、ARIA属性

---

**4. インタラクション / 状態遷移**

- 初期表示: データのフェッチ有無、ローディング表示
- 送信/保存: 成功時の遷移、失敗時のエラーハンドリング（バリデーション表示の粒度）
- 自動保存（autosave）の有無と頻度、競合時の解決方針
- リロード/戻る時の離脱確認の条件

---

**5. バリデーション / エラーメッセージ**

- フィールド単位のエラー文言（短めで運用しやすいもの）
- サーバエラー/ネットワークエラーの共通表示ルール

---

**6. データモデル（型定義）**

TypeScriptでの想定インターフェース（必要に応じてコピーして使える）

```ts
// 例: 汎用的な画面データモデル
interface ScreenData {
  id?: string;
  title?: string;
  createdAt?: string; // ISO
  updatedAt?: string; // ISO
}

// 画面固有のサンプル（Audit系であれば）
interface AuditReport {
  clientId: string;
  clientName: string;
  period: string;        // 例: "2025年10月"
  visitedAt?: string;    // ISO (YYYY-MM-DD)
  visitMethod?: '訪問' | 'オンライン' | '電話';
  scopes: string[];      // 監査範囲
  issues: string[];      // 指摘事項
  plans: string[];       // 是正計画
  nextSchedule?: string; // 次回予定
}
```

---

**7. API仕様（必要な場合）**

例としてRESTエンドポイントを記載。リクエスト/レスポンスの例を必ず添える。

- **POST** `/api/v1/<resource>`
  - リクエスト例: `{ ... }`
  - レスポンス例: `201 { id, savedAt }`
- **GET** `/api/v1/<resource>/:id`

---

**8. 権限・認可**

- 表示/編集/削除の権限要件（ロールごと）

---

**9. パフォーマンス / 非機能要件**

- 目標レスポンス時間、フェッチの粒度、キャッシュ戦略

---

**10. テスト/受け入れ基準**

- 受け入れ条件（最低限）：
  - 正常系: 必須フィールドを入力し保存できる
  - 異常系: バリデーションエラーメッセージが表示される
  - UI: モバイルとデスクトップで主要要素が崩れない

- 自動テスト候補:
  - E2E: 画面遷移 → 編集 → 保存 → 履歴確認
  - 単体: データ整形ロジック、バリデーション関数

---

**11. ロギング / 監査（必要時）**

- 画面操作で記録するイベント（保存/削除/承認など）と保管期間

---

**12. 実装メモ / 注意点**

- 既存の共通コンポーネントを利用する（`components/layout/app-shell.tsx`, `components/providers/mantine-provider.tsx` 等）
- レスポンシブ: ブレークポイントと優先表示順を明記
- 国際化: 文言は `i18n` で管理する想定

---

**13. 変更履歴 / 備考**

- [YYYY/MM/DD] (担当): 初版作成
- [YYYY/MM/DD] (担当): 仕様変更点の要旨

